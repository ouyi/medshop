(self.AMP=self.AMP||[]).push({n:"amp-ad",v:"1507685388117",f:(function(AMP){var l;function m(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]}function t(a,b){return b.length>a.length?!1:0==a.lastIndexOf(b,0)};function u(a,b){b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(c){return b}};var aa=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function x(a){var b=Object.create(null);if(!a)return b;for(var c;c=aa.exec(a);){var d=u(c[1],c[1]).trim();c=c[2]?u(c[2],c[2]).trim():"";b[d]=c}return b};var ca="";function y(){var a=void 0,b=a||self,c;if(b.AMP_MODE)c=b.AMP_MODE;else{c=b;var d=x(c.location.originalHash||c.location.hash),e=x(c.location.search);ca||(ca=c.AMP_CONFIG&&c.AMP_CONFIG.v?c.AMP_CONFIG.v:"011507685388117");c=b.AMP_MODE={localDev:!1,development:!("1"!=d.development&&!c.AMP_DEV_MODE),examiner:"2"==d.development,filter:d.filter,minified:!0,lite:void 0!=e.amp_lite,test:!1,log:d.log,version:"1507685388117",rtvVersion:ca}}return c};Date.now();self.log=self.log||{user:null,dev:null,userForEmbed:null};var z=self.log;function B(){if(!z.user)throw Error("failed to call initLogConstructor");return z.user}function C(){if(z.dev)return z.dev;throw Error("failed to call initLogConstructor");};var da=Object.prototype.hasOwnProperty;function ea(a){var b=Object.create(null);a&&Object.assign(b,a);return b}function F(a){return a||{}};function fa(a){if(a.nodeType){var b=(a.ownerDocument||a).defaultView;if(b=b!=(b.__AMP_TOP||b)&&ga(b,"url-replace")?G(b,"url-replace"):null)return b}return H(a,"url-replace")}function I(a,b){a=a.__AMP_TOP||a;return G(a,b)}function H(a,b){a=J(a);a=ha(a);return G(a,b)}function ia(a,b){return ja(ha(a),b)}function ka(a,b){return la(ha(a),b)}function J(a){return a.nodeType?I((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function ha(a){a=J(a);return a.isSingleDoc()?a.win:a}
function G(a,b){ga(a,b);var c=ma(a);a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.ctor=null,a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function ja(a,b){var c=la(a,b);if(c)return c;var d,e=new Promise(function(a){d=a});ma(a)[b]={obj:null,promise:e,resolve:d,context:null,ctor:null};return e}function la(a,b){var c=ma(a)[b];if(c){if(c.promise)return c.promise;G(a,b);return c.promise=Promise.resolve(c.obj)}return null}function ma(a){var b=a.services;b||(b=a.services={});return b}
function ga(a,b){a=a.services&&a.services[b];return!(!a||!a.ctor&&!a.obj)};/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function na(a,b){for(var c,d=a;d&&d!==c;d=d.parentElement)if(b(d))return d;return null}function oa(a){var b="amp-ad";if(a.closest)return a.closest(b);b=b.toUpperCase();return na(a,function(a){return a.tagName==b})}function pa(a,b){for(var c=[],d=a.parentElement;d;d=d.parentElement)b(d)&&c.push(d);return c}function qa(a){var b="BODY",b=b.toUpperCase();return pa(a,function(a){return a.tagName==b})};function ra(a,b){return a.ampExtendedElements?!!a.ampExtendedElements[b]:!1}function sa(a,b,c){return ta(a,b,c,void 0).then(function(a){return B().assert(a,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.",b,c,c,c)})}
function ta(a,b,c,d){var e=J(a),f=ka(a,b);return f?f:Promise.resolve().then(function(){return!d&&ra(e.win,c)?ia(a,b):e.whenBodyAvailable().then(function(){return d?ka(a,b):ra(e.win,c)?ia(a,b):null})})};function ua(a){var b=!0;if(b=void 0===b?!1:b){var c=J(a);I(c.win,"extensions").installExtensionForDoc(c,"amp-analytics")}return sa(a,"amp-analytics-instrumentation","amp-analytics")}function K(a){return H(a,"viewer")};var L=self.AMP_CONFIG||{},va=L.thirdPartyUrl||"https://3p.ampproject.net",wa=L.thirdPartyFrameHost||"ampproject.net",xa=("string"==typeof L.cdnProxyRegex?new RegExp(L.cdnProxyRegex):L.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;var ya,za;
function M(a){var b;ya||(ya=self.document.createElement("a"),za=self.UrlCache||(self.UrlCache=Object.create(null)));var c=za[a];if(c)return c;var d=ya;d.href=a;d.protocol||(d.href=d.href);var e={href:d.href,protocol:d.protocol,host:d.host,hostname:d.hostname,port:"0"==d.port?"":d.port,pathname:d.pathname,search:d.search,hash:d.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=e.hostname;e.origin=
d.origin&&"null"!=d.origin?d.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;var f=e,g=f;return b?g:za[a]=g}function Aa(a){"string"==typeof a&&(a=M(a));var b;(b="https:"==a.protocol||"localhost"==a.hostname)||(a=a.hostname,b=a.length-10,b=0<=b&&a.indexOf(".localhost",b)==b);return b}function Ba(a){"string"==typeof a&&(a=M(a));return xa.test(a.origin)};function Ca(a,b){try{return JSON.parse(a)}catch(c){b&&b(c)}};Promise.resolve();function N(a,b){var c=Da(a);return!!c[b]}
function Da(a){if(a.__AMP__EXPERIMENT_TOGGLES)return a.__AMP__EXPERIMENT_TOGGLES;a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);var b=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var c in a.AMP_CONFIG){var d=a.AMP_CONFIG[c];"number"===typeof d&&0<=d&&1>=d&&(b[c]=Math.random()<d)}if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-doc-opt-in"])&&0<a.AMP_CONFIG["allow-doc-opt-in"].length){var e=a.AMP_CONFIG["allow-doc-opt-in"];if(c=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]')){var f=c.getAttribute("content").split(",");
for(c=0;c<f.length;c++)-1!=e.indexOf(f[c])&&(b[f[c]]=!0)}}Object.assign(b,Ea(a));if(a.AMP_CONFIG&&Array.isArray(a.AMP_CONFIG["allow-url-opt-in"])&&0<a.AMP_CONFIG["allow-url-opt-in"].length){c=a.AMP_CONFIG["allow-url-opt-in"];a=x(a.location.originalHash||a.location.hash);for(var g=0;g<c.length;g++){var h=a["e-"+c[g]];"1"==h&&(b[c[g]]=!0);"0"==h&&(b[c[g]]=!1)}}return b}
function Ea(a){a:{var b;try{b=a.document.cookie}catch(h){b=""}if(a=b)for(a=a.split(";"),b=0;b<a.length;b++){var c=a[b].trim(),d=c.indexOf("="),e;if(e=-1!=d)e=c.substring(0,d).trim(),e="AMP_EXP"==u(e,void 0);if(e){a=c.substring(d+1).trim();a=u(a,a);break a}}a=null}var f=a,g=f?f.split(/\s*,\s*/g):[];a=Object.create(null);for(b=0;b<g.length;b++)0!=g[b].length&&("-"==g[b][0]?a[g[b].substr(1)]=!1:a[g[b]]=!0);return a}
function Fa(a,b){a.experimentBranches=a.experimentBranches||{};for(var c in b)if(b.hasOwnProperty(c)&&!a.experimentBranches.hasOwnProperty(c))if(!b[c].isTrafficEligible||!b[c].isTrafficEligible(a))a.experimentBranches[c]=null;else if(!a.experimentBranches[c]&&N(a,c)){var d=b[c].branches,e=d;a.experimentBranches[c]=e[Math.floor(Math.random()*e.length)]||null}}
function Ga(a,b,c){a.experimentBranches=a.experimentBranches||{};var d=!!c,e=N(a,b),d=!(void 0!==d?!d:e);d!=e&&(Da(a)[b]=d);a.experimentBranches[b]=c};var O={_ping_:{renderStartImplemented:!0,clientIdScope:"_PING_"},a8:{prefetch:"https://statics.a8.net/amp/ad.js",renderStartImplemented:!0},a9:{prefetch:"https://c.amazon-adsystem.com/aax2/assoc.js"},accesstrade:{prefetch:"https://h.accesstrade.net/js/amp/amp.js"},adblade:{prefetch:"https://web.adblade.com/js/ads/async/show.js",preconnect:["https://staticd.cdn.adblade.com","https://static.adblade.com"],renderStartImplemented:!0},adbutler:{prefetch:"https://servedbyadbutler.com/app.js"},adform:{},
adfox:{prefetch:"https://yastatic.net/pcode/adfox/loader.js",renderStartImplemented:!0},adgeneration:{prefetch:"https://i.socdm.com/sdk/js/adg-script-loader.js"},adhese:{renderStartImplemented:!0},adition:{},adman:{},admanmedia:{renderStartImplemented:!0},adocean:{},adreactor:{},adsense:{prefetch:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",preconnect:"https://googleads.g.doubleclick.net",clientIdScope:"AMP_ECID_GOOGLE",clientIdCookieName:"_ga",remoteHTMLDisabled:!0,masterFrameAccessibleType:"google_network"},
adsnative:{prefetch:"https://static.adsnative.com/static/js/render.v1.js",preconnect:"https://api.adsnative.com"},adspeed:{preconnect:"https://g.adspeed.net",renderStartImplemented:!0},adspirit:{},adstir:{prefetch:"https://js.ad-stir.com/js/adstir_async.js",preconnect:"https://ad.ad-stir.com"},adtech:{prefetch:"https://s.aolcdn.com/os/ads/adsWrapper3.js",preconnect:["https://mads.at.atwola.com","https://aka-cdn.adtechus.com"]},adthrive:{prefetch:["https://www.googletagservices.com/tag/js/gpt.js"],
preconnect:["https://partner.googleadservices.com","https://securepubads.g.doubleclick.net","https://tpc.googlesyndication.com"],renderStartImplemented:!0},aduptech:{prefetch:"https://s.d.adup-tech.com/jsapi",preconnect:["https://d.adup-tech.com","https://m.adup-tech.com"],renderStartImplemented:!0},adverline:{prefetch:"https://ads.adverline.com/richmedias/amp.js",preconnect:["https://adnext.fr"],renderStartImplemented:!0},adverticum:{},advertserve:{renderStartImplemented:!0},affiliateb:{prefetch:"https://track.affiliate-b.com/amp/a.js",
renderStartImplemented:!0},amoad:{prefetch:["https://j.amoad.com/js/a.js","https://j.amoad.com/js/n.js"],preconnect:["https://d.amoad.com","https://i.amoad.com","https://m.amoad.com","https://v.amoad.com"]},appnexus:{prefetch:"https://acdn.adnxs.com/ast/ast.js",preconnect:"https://ib.adnxs.com"},atomx:{prefetch:"https://s.ato.mx/p.js"},bidtellect:{},brainy:{},bringhub:{renderStartImplemented:!0,preconnect:["https://static.bh-cdn.com","https://core-api.bringhub.io"]},caajainfeed:{prefetch:["https://cdn.amanad.adtdp.com/sdk/ajaamp.js"],
preconnect:["https://ad.amanad.adtdp.com"]},capirs:{renderStartImplemented:!0},caprofitx:{prefetch:["https://cdn.caprofitx.com/pfx.min.js","https://cdn.caprofitx.com/tags/amp/profitx_amp.js"],preconnect:"https://ad.caprofitx.adtdp.com"},chargeads:{},colombia:{prefetch:"https://static.clmbtech.com/ad/commons/js/colombia-amp.js"},contentad:{},criteo:{prefetch:"https://static.criteo.net/js/ld/publishertag.js",preconnect:"https://cas.criteo.com"},csa:{prefetch:"https://www.google.com/adsense/search/ads.js"},
dable:{preconnect:["https://static.dable.io","https://api.dable.io","https://images.dable.io"],renderStartImplemented:!0},directadvert:{renderStartImplemented:!0},distroscale:{preconnect:["https://c.jsrdn.com","https://s.jsrdn.com","https://i.jsrdn.com"],renderStartImplemented:!0},dotandads:{prefetch:"https://amp.ad.dotandad.com/dotandadsAmp.js",preconnect:"https://bal.ad.dotandad.com"},doubleclick:{prefetch:["https://www.googletagservices.com/tag/js/gpt.js","https://securepubads.g.doubleclick.net/static/glade.js"],
preconnect:["https://partner.googleadservices.com","https://tpc.googlesyndication.com"],clientIdScope:"AMP_ECID_GOOGLE",clientIdCookieName:"_ga",renderStartImplemented:!0,masterFrameAccessibleType:"google_network"},eas:{prefetch:"https://amp.emediate.eu/amp.v0.js",renderStartImplemented:!0},engageya:{},eplanning:{prefetch:"https://us.img.e-planning.net/layers/epl-amp.js"},ezoic:{prefetch:["https://www.googletagservices.com/tag/js/gpt.js","https://g.ezoic.net/ezoic/ampad.js"],clientIdScope:"AMP_ECID_EZOIC"},
f1e:{prefetch:"https://img.ak.impact-ad.jp/util/f1e_amp.min.js"},f1h:{preconnect:"https://img.ak.impact-ad.jp",renderStartImplemented:!0},fake:{},felmat:{prefetch:"https://t.felmat.net/js/fmamp.js",renderStartImplemented:!0},flite:{},fluct:{preconnect:["https://cdn-fluct.sh.adingo.jp","https://s.sh.adingo.jp","https://i.adingo.jp"]},fusion:{prefetch:"https://assets.adtomafusion.net/fusion/latest/fusion-amp.min.js"},genieessp:{prefetch:"https://js.gsspcln.jp/l/amp.js"},gmossp:{prefetch:"https://cdn.gmossp-sp.jp/ads/amp.js"},
gumgum:{prefetch:"https://g2.gumgum.com/javascripts/ad.js",renderStartImplemented:!0},holder:{prefetch:"https://i.holder.com.ua/js2/holder/ajax/ampv1.js",preconnect:"https://h.holder.com.ua",renderStartImplemented:!0},ibillboard:{},imedia:{prefetch:"https://i.imedia.cz/js/im3.js",renderStartImplemented:!0},imobile:{prefetch:"https://spamp.i-mobile.co.jp/script/amp.js",preconnect:"https://spad.i-mobile.co.jp"},improvedigital:{},industrybrains:{prefetch:"https://web.industrybrains.com/js/ads/async/show.js",
preconnect:["https://staticd.cdn.industrybrains.com","https://static.industrybrains.com"],renderStartImplemented:!0},inmobi:{prefetch:"https://cf.cdn.inmobi.com/ad/inmobi.secure.js",renderStartImplemented:!0},innity:{prefetch:"https://cdn.innity.net/admanager.js",preconnect:"https://as.innity.com",renderStartImplemented:!0},ix:{prefetch:["https://js-sec.indexww.com/apl/amp.js"],preconnect:"https://as-sec.casalemedia.com",renderStartImplemented:!0},kargo:{},kiosked:{renderStartImplemented:!0},kixer:{prefetch:"https://cdn.kixer.com/ad/load.js",
renderStartImplemented:!0},ligatus:{prefetch:"https://ssl.ligatus.com/render/ligrend.js",renderStartImplemented:!0},loka:{prefetch:"https://loka-cdn.akamaized.net/scene/amp.js",preconnect:["https://scene-front.lokaplatform.com","https://loka-materials.akamaized.net"],renderStartImplemented:!0},mads:{prefetch:"https://eu2.madsone.com/js/tags.js"},"mantis-display":{prefetch:"https://assets.mantisadnetwork.com/mantodea.min.js",preconnect:["https://mantodea.mantisadnetwork.com","https://res.cloudinary.com",
"https://resize.mantisadnetwork.com"]},"mantis-recommend":{prefetch:"https://assets.mantisadnetwork.com/recommend.min.js",preconnect:["https://mantodea.mantisadnetwork.com","https://resize.mantisadnetwork.com"]},mediaimpact:{prefetch:"https://ec-ns.sascdn.com/diff/251/pages/amp_default.js",preconnect:["https://ww251.smartadserver.com","https://static.sascdn.com/"],renderStartImplemented:!0},medianet:{preconnect:"https://contextual.media.net",renderStartImplemented:!0},mediavine:{prefetch:"https://www.googletagservices.com/tag/js/gpt.js",
preconnect:["https://partner.googleadservices.com","https://securepubads.g.doubleclick.net","https://tpc.googlesyndication.com"],renderStartImplemented:!0},meg:{renderStartImplemented:!0},microad:{prefetch:"https://j.microad.net/js/camp.js",preconnect:["https://s-rtb.send.microad.jp","https://s-rtb.send.microadinc.com","https://cache.send.microad.jp","https://cache.send.microadinc.com","https://deb.send.microad.jp"]},mixpo:{prefetch:"https://cdn.mixpo.com/js/loader.js",preconnect:["https://player1.mixpo.com",
"https://player2.mixpo.com"]},mywidget:{preconnect:"https://likemore-fe.go.mail.ru",prefetch:"https://likemore-go.imgsmail.ru/widget_amp.js",renderStartImplemented:!0},nativo:{prefetch:"https://s.ntv.io/serve/load.js"},navegg:{renderStartImplemented:!0},nend:{prefetch:"https://js1.nend.net/js/amp.js",preconnect:["https://output.nend.net","https://img1.nend.net"]},netletix:{preconnect:["https://call.netzathleten-media.de"],renderStartImplemented:!0},nokta:{prefetch:"https://static.virgul.com/theme/mockups/noktaamp/ampjs.js",
renderStartImplemented:!0},openadstream:{},openx:{prefetch:"https://www.googletagservices.com/tag/js/gpt.js",preconnect:["https://partner.googleadservices.com","https://securepubads.g.doubleclick.net","https://tpc.googlesyndication.com"],renderStartImplemented:!0},outbrain:{renderStartImplemented:!0,prefetch:"https://widgets.outbrain.com/widgetAMP/outbrainAMP.min.js",preconnect:["https://odb.outbrain.com"]},plista:{},polymorphicads:{prefetch:"https://www.polymorphicads.jp/js/amp.js",preconnect:["https://img.polymorphicads.jp",
"https://ad.polymorphicads.jp"],renderStartImplemented:!0},popin:{renderStartImplemented:!0},pubmatic:{prefetch:"https://ads.pubmatic.com/AdServer/js/amp.js"},pubmine:{prefetch:["https://s.pubmine.com/head.js","https://s.pubmine.com/showad.js"],preconnect:"https://delivery.g.switchadhub.com",renderStartImplemented:!0},pulsepoint:{prefetch:"https://ads.contextweb.com/TagPublish/getjs.static.js",preconnect:"https://tag.contextweb.com"},purch:{prefetch:"https://ramp.purch.com/serve/creative_amp.js",
renderStartImplemented:!0},relap:{renderStartImplemented:!0},revcontent:{prefetch:"https://labs-cdn.revcontent.com/build/amphtml/revcontent.amp.min.js",preconnect:["https://trends.revcontent.com","https://cdn.revcontent.com","https://img.revcontent.com"],renderStartImplemented:!0},rubicon:{},sharethrough:{renderStartImplemented:!0},sklik:{prefetch:"https://c.imedia.cz/js/amp.js"},slimcutmedia:{preconnect:["https://sb.freeskreen.com","https://static.freeskreen.com","https://video.freeskreen.com"],
renderStartImplemented:!0},smartadserver:{prefetch:"https://ec-ns.sascdn.com/diff/js/amp.v0.js",preconnect:"https://static.sascdn.com",renderStartImplemented:!0},smartclip:{prefetch:"https://cdn.smartclip.net/amp/amp.v0.js",preconnect:"https://des.smartclip.net",renderStartImplemented:!0},smi2:{renderStartImplemented:!0},sogouad:{prefetch:"https://theta.sogoucdn.com/wap/js/aw.js",renderStartImplemented:!0},sortable:{prefetch:"https://www.googletagservices.com/tag/js/gpt.js",preconnect:["https://tags-cdn.deployads.com",
"https://partner.googleadservices.com","https://securepubads.g.doubleclick.net","https://tpc.googlesyndication.com"],renderStartImplemented:!0},sovrn:{prefetch:"https://ap.lijit.com/www/sovrn_amp/sovrn_ads.js"},spotx:{preconnect:"https://js.spotx.tv",renderStartImplemented:!0},sunmedia:{prefetch:"https://vod.addevweb.com/sunmedia/amp/ads/sunmedia.js",preconnect:"https://static.addevweb.com",renderStartImplemented:!0},swoop:{prefetch:"https://www.swoop-amp.com/amp.js",preconnect:["https://www.swpsvc.com",
"https://client.swpcld.com"],renderStartImplemented:!0},taboola:{},teads:{prefetch:"https://cdn.teads.tv/media/format/v3/teads-format.min.js",preconnect:["https://cdn2.teads.tv","https://a.teads.tv","https://t.teads.tv"]},triplelift:{},valuecommerce:{prefetch:"https://amp.valuecommerce.com/amp_bridge.js",preconnect:["https://ad.jp.ap.valuecommerce.com","https://ad.omks.valuecommerce.com"],renderStartImplemented:!0},vmfive:{prefetch:"https://man.vm5apis.com/dist/adn-web-sdk.js",preconnect:["https://vawpro.vm5apis.com",
"https://vahfront.vm5apis.com"],renderStartImplemented:!0},webediads:{prefetch:"https://eu1.wbdds.com/amp.min.js",preconnect:["https://goutee.top","https://mediaathay.org.uk"],renderStartImplemented:!0},"weborama-display":{prefetch:["https://cstatic.weborama.fr/js/advertiserv2/adperf_launch_1.0.0_scrambled.js","https://cstatic.weborama.fr/js/advertiserv2/adperf_core_1.0.0_scrambled.js"]},widespace:{},xlift:{prefetch:"https://cdn.x-lift.jp/resources/common/xlift_amp.js",renderStartImplemented:!0},
yahoo:{prefetch:"https://s.yimg.com/os/ampad/display.js",preconnect:"https://us.adserver.yahoo.com"},yahoojp:{prefetch:["https://s.yimg.jp/images/listing/tool/yads/ydn/amp/amp.js","https://yads.c.yimg.jp/js/yads.js"],preconnect:"https://yads.yahoo.co.jp"},yandex:{prefetch:"https://yastatic.net/partner-code/loaders/context_amp.js",renderStartImplemented:!0},yengo:{renderStartImplemented:!0},yieldbot:{prefetch:["https://cdn.yldbt.com/js/yieldbot.intent.amp.js","https://msg.yldbt.com/js/ybmsg.html"],
preconnect:"https://i.yldbt.com"},yieldmo:{prefetch:"https://static.yieldmo.com/ym.amp1.js",preconnect:["https://s.yieldmo.com","https://ads.yieldmo.com"],renderStartImplemented:!0},yieldone:{prefetch:"https://img.ak.impact-ad.jp/ic/pone/commonjs/yone-amp.js"},zedo:{prefetch:"https://ss3.zedo.com/gecko/tag/Gecko.amp.min.js",renderStartImplemented:!0},zergnet:{},zucks:{preconnect:["https://j.zucks.net.zimg.jp","https://sh.zucks.net","https://k.zucks.net","https://static.zucks.net.zimg.jp"]}};function Ha(a){var b=O[a.element.getAttribute("type")];return b&&b.clientIdScope?Ia(a.getAmpDoc(),b.clientIdScope,b.clientIdCookieName):Promise.resolve()}function Ia(a,b,c){var d=ia(a,"cid").then(function(a){if(a)return a.get({scope:b,createCookieIfNotPresent:!0,cookieName:c},Promise.resolve(void 0)).catch(function(a){C().error("AD-CID",a)})});return I(a.win,"timer").timeoutPromise(1E3,d,"cid timeout").catch(function(a){C().warn("AD-CID",a)})};function Ja(a){for(var b=a.nodeName,c=0,d=0,e=a.previousElementSibling;e&&25>d&&100>c;)e.nodeName==b&&d++,c++,e=e.previousElementSibling;return 25>d&&100>c?"."+d:""};function Ka(a){var b=/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org((\/.*)|($))+/;return a.crypto&&(a.crypto.subtle||a.crypto.webkitSubtle)&&(!!b.test(a.location.origin)||!1||!1)}function La(a,b){var c=void 0;if(!a.ampAdPageCorrelator){var d;d=c;var e=H(b||a.document,"documentInfo").get().pageViewId,e=Number(e||0);d=d?e+d.replace(/\D/g,"")%1E6*1E6:Math.floor(4503599627370496*Math.random());a.ampAdPageCorrelator=d}return a.ampAdPageCorrelator}
function Ma(a,b){var c=a.filter(function(a){return Number(a)}).join(",");b=b||"";return b+(b&&c?",":"")+c};function Na(a,b){var c=K(b).getParam("exp")||x(a.location.search).exp;if(!c)return null;var d=["doubleclick"==(b.getAttribute("type")||"").toLowerCase()?"da":"aa","a4a"],e,f;d.forEach(function(a){return e=e||(f=(new RegExp("(?:^|,)"+a+":(-?\\d+)")).exec(c))&&f[1]});return e||null}function Oa(a){return a.every(function(a){return!isNaN(parseInt(a,10))})}
function Pa(a,b){var c=b.getAttribute("data-experiment-id"),d;if(d=c)d=(d=c)?d.split(","):[],d=Oa(d);d?b.setAttribute("data-experiment-id",Ma([a],c)):b.setAttribute("data-experiment-id",a)};var Qa={"-1":"117152632",0:null,1:"21060732",2:"21060733",3:"21061056",4:"21061057",5:"21060953",6:"21060954",7:"21060939",8:"21060940"};
function Ra(a,b){if(!Ka(a)||!b.getAttribute("data-ad-client"))return!1;var c,d=Na(a,b);void 0!=d?(c=Qa[d],C().info("amp-ad-network-adsense-impl","url experiment selection "+d+": "+c+".")):(Fa(a,{expAdsenseA4A:{isTrafficEligible:function(){return!0},branches:["2092615","2092616"]}}),c=a.experimentBranches?a.experimentBranches.expAdsenseA4A:null,C().info("amp-ad-network-adsense-impl","random experiment selection "+d+": "+c));c&&(Pa(c,b),Ga(a,"expAdsenseA4A",c));return!["21060733","2092616"].includes(c)}
;var Sa={"-1":"117152632",0:null,1:"21060726",2:"21060727",3:"21060728",4:"21060729",5:"21060937",6:"21060938",7:"117152666",8:"117152667",9:"21060955",10:"21060956"};function P(){}P.prototype.supportsCrypto=function(a){return a.crypto&&(a.crypto.subtle||a.crypto.webkitSubtle)};P.prototype.isCdnProxy=function(a){return/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org((\/.*)|($))+/.test(a.location.origin)};
P.prototype.isA4aEnabled=function(a,b){var c;if("useSameDomainRenderingUntilDeprecated"in b.dataset||b.hasAttribute("useSameDomainRenderingUntilDeprecated"))return!1;var d=Na(a,b);if(this.isCdnProxy(a)){if(b.hasAttribute("data-use-beta-a4a-implementation"))return Pa("2077831",b),C().info("amp-ad-network-doubleclick-impl","beta forced a4a selection "+b),!0;void 0!=d?(c=Sa[d],C().info("amp-ad-network-doubleclick-impl","url experiment selection "+d+": "+c+".")):c=this.maybeSelectExperiment(a,b,["2092613",
"2092614"],"expDoubleclickA4A")}else if(c=this.supportsCrypto(a)?this.maybeSelectExperiment(a,b,["21060932","21060933"],"expDfpCanonicalFf"):this.maybeSelectExperiment(a,b,["21061030","21061031"],"expDfpCanonicalFf"),!c)return!1;c&&(Pa(c,b),Ga(a,"expDoubleclickA4A",c));return!["21060727","2092614","21060932","21061030"].includes(c)};
P.prototype.maybeSelectExperiment=function(a,b,c,d){b={};b[d]={isTrafficEligible:function(){return!0},branches:c};Fa(a,b);return a.experimentBranches?a.experimentBranches[d]:null};var Ta=new P;function Ua(a,b){return Ta.isA4aEnabled(a,b)};function Va(a,b){var c;return!!b.getAttribute("data-use-a4a")&&!!(c=b.getAttribute("src"))&&0==c.indexOf("https://ib.3lift.com/")};function Wa(){return!0};function Xa(a,b){a=b.getAttribute("src");return!!b.getAttribute("data-use-a4a")&&!!a&&(t(a,"https://sp.gmossp-sp.jp/")||t(a,"https://amp.sp.gmossp-sp.jp/_a4a/"))};var Ya;var Za,$a="Webkit webkit Moz moz ms O o".split(" ");function ab(a,b,c){var d;var e=a.style;if(!t(b,"--")){Za||(Za=ea());var f=Za[b];if(!f){f=b;if(void 0===e[b]){var g=b.charAt(0).toUpperCase()+b.slice(1);b:{for(var h=0;h<$a.length;h++){var k=$a[h]+g;if(void 0!==e[k]){g=k;break b}}g=""}void 0!==e[g]&&(f=g)}Za[b]=f}b=f}b&&(a.style[b]=d?c+d:c)};function bb(a,b){ta(a,"amp-analytics-instrumentation","amp-analytics").then(function(c){c&&c.triggerEventForTarget(a,"user-error",b)})};var Q;function cb(a,b,c){function d(a){try{return g(a)}catch(q){throw self.reportError(q),q;}}var e=void 0,f=a,g=c,h=db(),k=!1;e&&(k=e.capture);f.addEventListener(b,d,h?e:k);return function(){f&&f.removeEventListener(b,d,h?e:k);d=f=g=null}}function db(){if(void 0!==Q)return Q;Q=!1;try{var a={get capture(){Q=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return Q};function eb(a,b,c){var d=c,e=cb(a,b,function(a){try{d(a)}finally{d=null,e()}});return e}function fb(a){var b,c;if(a.complete||"complete"==a.readyState||a.document&&"complete"==a.document.readyState)return Promise.resolve(a);var d=new Promise(function(d,f){var e=a.tagName;b="AUDIO"===e||"VIDEO"===e?eb(a,"loadstart",d):eb(a,"load",d);e&&(c=eb(a,"error",f))});return d.then(function(){c&&c();return a},function(){b&&b();var c=a;c&&c.src&&(c=c.src);throw B().createError("Failed to load:",c);})};self.AMPErrors=self.AMPErrors||[];function gb(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a}function hb(a){a=parseFloat(a);return"number"===typeof a&&isFinite(a)?a:void 0};var ib={"AMP-FX-FLYING-CARPET":!0,"AMP-LIGHTBOX":!0,"AMP-STICKY-AD":!0};function jb(a){if(void 0===a.__AMP__AD_CONTAINER){var b=a;do if(b=b.parentElement,ib[b.tagName])return a.__AMP__AD_CONTAINER=b.tagName;while(b&&"BODY"!=b.tagName);a.__AMP__AD_CONTAINER=null}return a.__AMP__AD_CONTAINER};function kb(a){var b=a.performance&&a.performance.timing;if(b&&0!=b.navigationStart&&(a=b.navigationStart,"number"===typeof a&&isFinite(a)))return 0>a?"":a};function lb(a,b){void 0===a["3pla"]&&(a["3pla"]=0);a["3pla"]++;I(a,"timer").timeoutPromise(1E3,b).catch(function(){}).then(function(){a["3pla"]--})};function mb(a,b,c){if(!(0==b&&0==c||0==a.width&&0==a.height)){b=a.left+b;c=a.top+c;var d=a.width;a=a.height;a={left:b,top:c,width:d,height:a,bottom:c+a,right:b+d,x:b,y:c}}return a};var R={};
function nb(a,b,c,d){c=c||b.getAttribute("type");B().assert(c,"Attribute type required for <amp-ad>: %s",b);for(var e=0,f=a;f&&f!=f.parent;f=f.parent)e++;var e=String(e)+"-"+ob(a),g=f={},h=b.dataset,k;for(k in h)t(k,"vars")||(g[k]=h[k]);if(k=b.getAttribute("json")){k=Ca(k);if(void 0===k)throw B().createError("Error parsing JSON in json attribute in element %s",b);for(var p in k)g[p]=k[p]}p=f;k=Date.now();f=b.getAttribute("width");g=b.getAttribute("height");p=p?p:{};p.width=hb(f);p.height=hb(g);var q=
a.location.href;"about:srcdoc"==q&&(q=a.parent.location.href);for(var v=H(b,"documentInfo").get(),n=K(b),f=n.getUnconfirmedReferrerUrl(),w=b.getPageLayoutBox(),g=p,h=v.sourceUrl,A=v.canonicalUrl,v=v.pageViewId,q={href:q},Fb=b.tagName,Gb={localDev:!1,development:y().development,filter:y().filter,minified:!0,lite:y().lite,test:!1,log:y().log,version:y().version,rtvVersion:y().rtvVersion},Hb=!(!a.AMP_CONFIG||!a.AMP_CONFIG.canary),n=!n.isVisible(),w=w?{left:w.left,top:w.top,width:w.width,height:w.height}:
null,Ib=b.getIntersectionChangeEntry(),r=b,ba=[],D=0;r&&1==r.nodeType&&25>D;){var E="";r.id&&(E="/"+r.id);var Jb=r.nodeName.toLowerCase();ba.push(""+Jb+E+Ja(r));D++;r=r.parentElement}r=ba.join();ba=r.length;D=5381;for(E=0;E<ba;E++)D=33*D^r.charCodeAt(E);g._context=F({ampcontextVersion:"1507685388117",ampcontextFilepath:va+"/1507685388117/ampcontext-v0.js",sourceUrl:h,referrer:f,canonicalUrl:A,pageViewId:v,location:q,startTime:k,tagName:Fb,mode:Gb,canary:Hb,hidden:n,initialLayoutRect:w,
initialIntersection:Ib,domFingerprint:String(D>>>0),experimentToggles:Da(a),sentinel:e});(a=b.getAttribute("src"))&&(p.src=a);f=p;f.type=c;Object.assign(f._context,d);return f}
function pb(a,b,c,d,e){d=nb(a,b,c,d);var f=a.document.createElement("iframe");R[d.type]||(R[d.type]=0);R[d.type]+=1;a=qb(a,c,e);var g=M(a).hostname;c=JSON.stringify(F({host:g,type:d.type,count:R[d.type],attributes:d}));f.src=a;f.ampLocation=M(a);f.name=c;d.width&&(f.width=d.width);d.height&&(f.height=d.height);f.setAttribute("scrolling","no");ab(f,"border","none");f.onload=function(){this.readyState="complete"};f.setAttribute("data-amp-3p-sentinel",d._context.sentinel);return f}
function rb(a,b,c,d){a=qb(a,c,d);b.preload(a,"document");var e=va+"/1507685388117/f.js";b.preload(e,"script")}
function qb(a,b,c){var d=void 0,e=a.bootstrapBaseUrl;if(e)a=e;else{var f;f=d;var g=a.document.querySelector('meta[name="amp-3p-iframe-src"]');if(g)if(c)B().error("3p-frame","3p iframe url disabled for "+(b||"unknown")),f=null;else{b=g.getAttribute("content");var h;h=void 0===h?"source":h;B().assert(null!=b,"%s %s must be available",g,h);B().assert(Aa(b)||/^(\/\/)/.test(b),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',g,
h,b);B().assert(-1==b.indexOf("?"),"3p iframe url must not include query string %s in element %s.",b,g);h=M(b);B().assert("localhost"==h.hostname&&!f||h.origin!=M(a.location.href).origin,"3p iframe url must not be on the same origin as the current document %s (%s) in element %s. See https://github.com/ampproject/amphtml/blob/master/spec/amp-iframe-origin-policy.md for details.",b,h.origin,g);f=b+"?1507685388117"}else f=null;f||(a.defaultBootstrapSubDomain=a.defaultBootstrapSubDomain||"d-"+
ob(a),f="https://"+a.defaultBootstrapSubDomain+("."+wa+"/1507685388117/")+"frame.html");a=a.bootstrapBaseUrl=f}return a}function ob(a){var b;if(a.crypto&&a.crypto.getRandomValues){var c=new Uint32Array(2);a.crypto.getRandomValues(c);b=String(c[0])+c[1]}else b=String(a.Math.random()).substr(2)+"0";return b};F({frameborder:"0",allowfullscreen:"",allowtransparency:"",scrolling:"no",marginwidth:"0",marginheight:"0"});
var sb={adSlotCleared:"-1",urlBuilt:"1",adRequestStart:"2",adRequestEnd:"3",adResponseValidateStart:"5",renderFriendlyStart:"6",renderCrossDomainStart:"7",renderFriendlyEnd:"8",renderCrossDomainEnd:"9",preAdThrottle:"10",renderSafeFrameStart:"11",throttled3p:"12",adResponseValidateEnd:"13",xDomIframeLoaded:"14",friendlyIframeLoaded:"15",adSlotCollapsed:"16",adSlotUnhidden:"17",layoutAdPromiseDelay:"18",signatureVerifySuccess:"19",networkError:"20",friendlyIframeIniLoad:"21",visHalf:"22",visHalfIniLoad:"23",
firstVisible:"24",visLoadAndOneSec:"25",iniLoad:"26",resumeCallback:"27",visIniLoad:"29",upgradeDelay:"30"};function tb(){this.m={}}l=tb.prototype;l.addPingsForVisibility=function(){};l.sendPing=function(){};l.setPingParameter=function(a,b){null!=a&&""!==a&&null!==b&&void 0!==b&&""!==b&&(this.m[a]=String(b))};l.setPingParameters=function(a){for(var b in a)a.hasOwnProperty(b)&&this.setPingParameter(b,a[b])};l.reset=function(){this.m={}};l.getInitTime=function(){};l.getDeltaTime=function(){};
function S(a,b,c){this.m={};var d=this;this.P=a;this.g=b;this.V=b.getAttribute("data-a4a-upgrade-type")?"a4a":"amp";this.Z=c;this.ca=La(a,b);this.ia=this.V+"."+this.Z;var e=kb(a)||Date.now();this.H="number"==typeof e?e:Number(e);this.getDeltaTime=a.performance&&a.performance.now?a.performance.now.bind(a.performance):function(){return Date.now()-d.H};this.W="https://csi.gstatic.com/csi";this.ga=fa(b);this.C=K(b)}m(S,tb);S.prototype.setPingAddress=function(a){this.W=a};
S.prototype.sendPing=function(a){var b=sb[a]||9999,c=isNaN(Number(this.m.forced_delta))?Math.round(this.getDeltaTime()):this.m.forced_delta;delete this.m.forced_delta;var d;d=this.m;var e=[],f;for(f in d){var g=d[f];if(null!=g)if(Array.isArray(g))for(var h=0;h<g.length;h++){var k=g[h];e.push(encodeURIComponent(f)+"="+encodeURIComponent(k))}else e.push(encodeURIComponent(f)+"="+encodeURIComponent(g))}d=e.join("&");""!=d&&(d=this.ga.expandStringSync(d,{AD_SLOT_NAMESPACE:this.V,AD_SLOT_ID:this.Z,AD_SLOT_TIME_TO_EVENT:c,
AD_SLOT_EVENT_NAME:a,AD_SLOT_EVENT_ID:b,AD_PAGE_CORRELATOR:this.ca,AD_PAGE_VISIBLE:this.C.isVisible()?1:0,AD_PAGE_FIRST_VISIBLE_TIME:Math.round(this.C.getFirstVisibleTime()-this.H),AD_PAGE_LAST_VISIBLE_TIME:Math.round(this.C.getLastVisibleTime()-this.H)}));if(a=d?this.W+"?"+d:"")(new Image).src=a,C().info("PING",a)};S.prototype.getInitTime=function(){return this.H};
S.prototype.addPingsForVisibility=function(a){var b=this;ua(a).then(function(c){var d=a.signals(),e=Promise.race([d.whenSignal("ini-load"),d.whenSignal("load-end")]),f=c.getAnalyticsRoot(a).getVisibilityManager();f.listenElement(a,{visiblePercentageMin:50},null,null,function(){b.sendPing("visHalf")});f.listenElement(a,{visiblePercentageMin:50},e,null,function(){b.sendPing("visHalfIniLoad")});f.listenElement(a,{visiblePercentageMin:1},null,null,function(){b.sendPing("firstVisible")});e.then(function(){b.sendPing("iniLoad")});
f.listenElement(a,{waitFor:"ini-load"},e,null,function(){b.sendPing("visIniLoad")});f.listenElement(a,{visiblePercentageMin:1,waitFor:"ini-load",totalTimeMin:1E3},e,null,function(){b.sendPing("visLoadAndOneSec")})})};var ub={a4aProfilingRate:{isTrafficEligible:function(){return!0},branches:["unused","unused"]}};function vb(a,b){var c=100;function d(d){g=null;f=a.setTimeout(e,c);b.apply(null,d)}function e(){f=0;g&&d(g)}var f=0,g=null;return function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];f?g=b:d(b)}};function wb(a){if(!xb(a))return null;var b=a.indexOf("{");try{return JSON.parse(a.substr(b))}catch(c){return C().error("MESSAGING","Failed to parse message: "+a,c),null}}function xb(a){return"string"==typeof a&&0==a.indexOf("amp-")&&-1!=a.indexOf("{")};function yb(a,b){var c=b.data;if("string"==typeof c&&0==c.indexOf("a2a;")){var d=b.origin,c=JSON.parse(c.substr(4)).url;b=b.source;var e=a.document.activeElement;B().assert("IFRAME"==e.tagName,"A2A request with invalid active element %s %s %s",e,c,d);for(var f=!1,g=b,h=e.contentWindow;g!=a.top;){if(g==h){f=!0;break}g=g.parent}B().assert(f,"A2A request from invalid source win %s %s",c,d);B().assert(oa(e),"A2A request from non-ad frame %s %s",c,d);B().assert(Ba(c),"Invalid ad A2A URL %s %s",c,d);K(a.document).navigateTo(c,
"ad-"+d)}};var zb=["script","style"],Ab="amp-accordion amp-app-banner amp-carousel amp-fit-text amp-form amp-selector amp-sidebar".split(" "),Bb="action alt class disabled height href id name placeholder readonly src tabindex title type value width".split(" ");
function Cb(a,b,c){for(var d=[a],e=b.filter(function(a){return Bb.includes(a)});0<d.length;)if(a=d.pop(),"string"===typeof a)c.push(a);else if(a.nodeType===Node.TEXT_NODE)c.push(a.textContent);else if(a.nodeType===Node.ELEMENT_NODE&&Db(a))for(Eb(a,e,c),d.push("</"+a.tagName.toLowerCase()+">"),a=a.lastChild;a;a=a.previousSibling)d.push(a)}function Db(a){var b=a.tagName.toLowerCase();return t(b,"amp-")?!(!Ab.includes(b)||!a.textContent):!(zb.includes(b)||!a.textContent)}
function Eb(a,b,c){c.push("<"+a.tagName.toLowerCase());b.forEach(function(b){a.hasAttribute(b)&&c.push(" "+b+'="'+a.getAttribute(b)+'"')});c.push(">")};function Kb(a,b){for(var c=[],d=0,e=0;e<a.length;e++){var f=a[e];b(f,e,a)?(d<e&&(a[d]=f),d++):c.push(f)}d<a.length&&(a.length=d)};function Lb(a,b,c){var d=a.listeningFors;!d&&c&&(d=a.listeningFors=Object.create(null));a=d||null;if(!a)return a;var e=a[b];!e&&c&&(e=a[b]=[]);return e||null}function Mb(a,b,c){var d=M(b.src).origin,e=c?b.getAttribute("data-amp-3p-sentinel"):"amp";a=Lb(a,e,!0);for(var f,e=0;e<a.length;e++){var g=a[e];if(g.frame===b){f=g;break}}f||(f={frame:b,origin:d,events:Object.create(null)},a.push(f));return f.events}
function Nb(a){for(var b=F({sentinel:"unlisten"}),c=a.length-1;0<=c;c--){var d=a[c];if(!d.frame.contentWindow){a.splice(c,1);var e=d.events,f;for(f in e)e[f].splice(0,Infinity).forEach(function(a){a(b)})}}}
function Ob(a){if(!a.listeningFors){var b=function(b){if(b.data){var c=Pb(b.data);if(c&&c.sentinel){var e;e=c.sentinel;var f=b.origin,g=b.source,h=Lb(a,e);if(h){for(var k,p=0;p<h.length;p++){var q=h[p],v=q.frame.contentWindow;if(v)if("amp"===e){if(q.origin===f&&v==g){k=q;break}}else{var n;if(!(n=g==v))b:{for(n=g;n&&n!=n.parent;n=n.parent)if(n==v){n=!0;break b}n=!1}if(n){k=q;break}}else setTimeout(Nb,0,h)}e=k?k.events:null}else e=h;var w=e;if(w){var A=w[c.type];if(A)for(A=A.slice(),e=0;e<A.length;e++)(0,A[e])(c,
b.source,b.origin)}}}};a.addEventListener("message",b)}}function T(a,b,c,d,e){function f(b,d,f){if(e||d==a.contentWindow)"unlisten"==b.sentinel?k():c(b,d,f)}var g=a.ownerDocument.defaultView;Ob(g);d=Mb(g,a,d);var h=d[b]||(d[b]=[]),k;h.push(f);return k=function(){if(f){var a=h.indexOf(f);-1<a&&h.splice(a,1);c=h=f=null}}}
function U(a,b){var c=[];"string"==typeof b&&(b=[b]);return new Promise(function(d){for(var e=0;e<b.length;e++){var f=T(a,b[e],function(a,b,e){for(var f=0;f<c.length;f++)c[f]();d({data:a,source:b,origin:e})},!0);c.push(f)}})}function Qb(a,b,c,d,e){if(a.contentWindow){d.type=c;d.sentinel=e?a.getAttribute("data-amp-3p-sentinel"):"amp";var f=d;e&&(f="amp-"+JSON.stringify(d));for(a=0;a<b.length;a++)c=b[a],c.win.postMessage(f,c.origin)}}
function Pb(a){"string"==typeof a&&(a="{"==a.charAt(0)?Ca(a,function(a){C().warn("IFRAME-HELPER","Postmessage could not be parsed. Is it in a valid JSON format?",a)})||null:xb(a)?wb(a):null);return a}function V(a,b,c,d){var e=this;this.L=a;this.M=c;this.F=[];this.fa=T(this.L,b,function(a,b,c){e.F.some(function(a){return a.win==b})||e.F.push({win:b,origin:c});d(a,b,c)},this.M,this.M)}V.prototype.send=function(a,b){Kb(this.F,function(a){return!!a.win.parent});Qb(this.L,this.F,a,b,this.M)};
V.prototype.destroy=function(){this.fa();this.F.length=0};function W(a,b,c){var d=this;this.D=a;this.$=I(a.win,"timer");this.inViewport_=this.Y=!1;this.u=[];this.G=0;this.ba=this.S.bind(this);this.X=new V(b,"send-intersections",c||!1,function(){return Rb(d)});this.j=null}W.prototype.fire=function(){if(this.Y){var a=this.D.element.getIntersectionChangeEntry();0<this.u.length&&this.u[this.u.length-1].time==a.time||(this.u.push(a),this.G||(this.S(),this.G=this.$.delay(this.ba,100)))}};
function Rb(a){a.Y=!0;a.D.getVsync().measure(function(){if(a.D.isInViewport())a.onViewportCallback(!0);a.fire()})}W.prototype.onViewportCallback=function(a){if(this.inViewport_!=a)if(this.inViewport_=a,this.fire(),a){var b=this.fire.bind(this),c=this.D.getViewport().onScroll(b),d=this.D.getViewport().onChanged(b);this.j=function(){c();d()}}else this.j&&(this.j(),this.j=null)};W.prototype.S=function(){this.G=0;this.u.length&&(this.X.send("intersection",F({changes:this.u})),this.u.length=0)};
W.prototype.destroy=function(){this.$.cancel(this.G);this.j&&(this.j(),this.j=null);this.X.destroy()};function X(a){this.P=a.win;this.a=a;this.g=a.element;this.aa=a.uiHandler;this.o=this.w=this.h=this.iframe=null;this.U=!1;this.ha=null;this.l=[];this.C=K(this.a.getAmpDoc());this.I=H(this.a.getAmpDoc(),"viewport");this.N=!1}
X.prototype.init=function(a,b){var c=this;this.iframe=a;this.iframe.setAttribute("scrolling","no");this.a.applyFillContent(this.iframe);var d=I(this.a.win,"timer");this.h=new W(this.a,this.iframe,!0);this.w=new V(this.iframe,"send-embed-state",!0,function(){return Sb(c,c.a.isInViewport())});N(this.P,"inabox-position-api")&&(this.o=new V(this.iframe,"send-positions",!0,function(){Tb(c);Ub(c)}));U(this.iframe,"entity-id").then(function(a){c.g.creativeId=a.data.id});this.l.push(T(this.iframe,"get-html",
function(a,b,d){if(c.iframe){var e=a.selector,f=a.attributes,g=a.messageId,h="";c.g.hasAttribute("data-html-access-allowed")&&(a=c.a.win.document.querySelector(e),e=[],a&&Cb(a,f,e),h=e.join("").replace(/\s{2,}/g," "));Qb(c.iframe,[{win:b,origin:d}],"get-html-result",F({content:h,messageId:g}),!0)}},!0,!1));this.l.push(T(this.iframe,"embed-size",function(a,b,d){Vb(c,a.height,a.width,b,d)},!0,!0));this.l.push(this.C.onVisibilityChanged(function(){Sb(c,c.a.isInViewport())}));this.l.push(T(this.iframe,
"user-error-in-iframe",function(a){a=a.message;if("string"==typeof a){var b=Error(a);b.name="3pError";a=c.a.win;N(a,"user-error-reporting")&&(b={errorName:b.name,errorMessage:b.message},a=I(a,"ampdoc").getAmpDoc().getRootNode(),bb(a.documentElement||a.body||a,b))}},!0,!0));var e=fb(this.iframe).then(function(){c.iframe&&(c.iframe.readyState="complete");return d.promise(10)});this.a.emitLifecycleEvent&&e.then(function(){c.a.emitLifecycleEvent("xDomIframeLoaded")});var f,g=new Promise(function(a){f=
a}),h,k=new Promise(function(a){h=a});this.a.config&&this.a.config.renderStartImplemented?U(this.iframe,["render-start","no-content"]).then(function(a){"render-start"==a.data.type?(Wb(c,a),f()):(Xb(c),h())}):(U(this.iframe,"bootstrap-loaded").then(function(){Wb(c);f()}),U(this.iframe,"no-content").then(function(){Xb(c);h()}));U(this.iframe,"ini-load").then(function(){c.a.signals().signal("ini-load")});this.g.appendChild(this.iframe);b?(Wb(this),f()):(ab(this.iframe,"visibility","hidden"),this.a.lifecycleReporter.addPingsForVisibility(this.g));
Promise.race([g,e,d.promise(1E4)]).then(function(){c.iframe&&(ab(c.iframe,"visibility",""),c.a.emitLifecycleEvent&&c.a.emitLifecycleEvent("adSlotUnhidden"))});return Promise.race([e,k])};function Wb(a,b){a.a.renderStarted();if(b){var c=b.data;Vb(a,c.height,c.width,b.source,b.origin);a.a.emitLifecycleEvent&&a.a.emitLifecycleEvent("renderCrossDomainStart")}}
X.prototype.freeXOriginIframe=function(a){Yb(this);if(!a&&this.iframe){var b=this.iframe;b.parentElement&&b.parentElement.removeChild(b);this.iframe=null}};function Xb(a){a.iframe&&(a.freeXOriginIframe(0<=a.iframe.name.indexOf("_master")),a.aa.applyNoContentUI())}function Yb(a){a.l.forEach(function(a){return a()});a.l.length=0;a.w&&(a.w.destroy(),a.w=null);a.o&&(a.o.destroy(),a.o=null);a.h&&(a.h.destroy(),a.h=null)}
function Vb(a,b,c,d,e){a.a.getVsync().mutate(function(){if(a.iframe){var f=a.iframe.offsetHeight,g=a.iframe.offsetWidth;a.aa.updateSize(b,c,f,g).then(function(b){a.iframe&&Qb(a.iframe,[{win:d,origin:e}],b.success?"embed-size-changed":"embed-size-denied",F({requestedWidth:b.newWidth,requestedHeight:b.newHeight}),!0)},function(){})}})}function Sb(a,b){a.w&&a.w.send("embed-state",F({inViewport:b,pageHidden:!a.C.isVisible()}))}
function Zb(a){return a.I.getClientRectAsync(a.iframe).then(function(b){var c=a.I.getRect();return F({targetRect:b,viewportRect:c})})}function Tb(a){a.N||(a.N=!0,Zb(a).then(function(b){a.N=!1;a.o.send("position",b)}))}function Ub(a){a.U||(a.U=!0,a.l.push(a.I.onScroll(vb(a.P,function(){Zb(a).then(function(b){a.o.send("position",b)})}))),a.l.push(a.I.onResize(function(){Zb(a).then(function(b){a.o.send("position",b)})})))}
X.prototype.viewportCallback=function(a){if(this.h)this.h.onViewportCallback(a);Sb(this,a)};X.prototype.onLayoutMeasure=function(){this.h&&this.h.fire()};AMP.AmpAdXOriginIframeHandler=X;function Y(a){this.a=a;this.g=a.element;this.R=a.win.document;a.getFallback()||$b(this,"fallback")}Y.prototype.createPlaceholder=function(){return $b(this,"placeholder")};Y.prototype.applyNoContentUI=function(){var a=this;"AMP-STICKY-AD"==jb(this.g)?this.a.collapse():this.a.attemptCollapse().then(function(){},function(){a.a.deferMutate(function(){a.a.togglePlaceholder(!1);a.a.toggleFallback(!0)})})};Y.prototype.applyUnlayoutUI=function(){var a=this;this.a.deferMutate(function(){a.a.toggleFallback(!1)})};
function $b(a,b){if("AMP-EMBED"==a.g.tagName)return null;var c=a.R.createElement("div");c.setAttribute(b,"");b=a.R.createElement("div");b.classList.add("i-amphtml-ad-default-holder");b.setAttribute("data-ad-holder-text","Ad");c.appendChild(b);a.a.element.appendChild(c);return c}
Y.prototype.updateSize=function(a,b,c,d){var e,f;a=parseInt(a,10);isNaN(a)||(e=Math.max(this.g.offsetHeight+a-c,a));b=parseInt(b,10);isNaN(b)||(f=Math.max(this.g.offsetWidth+b-d,b));var g={success:!0,newWidth:f,newHeight:e};return e||f?"AMP-STICKY-AD"==jb(this.g)?(g.success=!1,Promise.resolve(g)):this.a.attemptChangeSize(e,f).then(function(){return g},function(){g.success=!1;return g}):Promise.reject(Error("undefined width and height"))};AMP.AmpAdUIHandler=Y;function ac(a){a=AMP.BaseElement.call(this,a)||this;a.L=null;a.config=null;a.uiHandler=null;a.b=null;a.ea=null;a.da=null;a.T=!1;a.K=null;a.j=null;a.h=null;a.J=void 0;a.A=null;var b=a.element.getAttribute("data-amp-slot-index"),c=a.win;Fa(c,ub);var d=a.element.getAttribute("type"),e=a.win,b=("doubleclick"==d||"adsense"==d)&&N(e,"a4aProfilingRate")&&(c.experimentBranches&&c.experimentBranches.expDoubleclickA4A||c.experimentBranches&&c.experimentBranches.expAdsenseA4A)?new S(c,a.element,Number(b)):new tb;
b.setPingParameters({s:"AD_SLOT_NAMESPACE",dt:"NAV_TIMING(navigationStart)",v:"2",c:"AD_PAGE_CORRELATOR",rls:"AMP_VERSION",v_h:"VIEWPORT_HEIGHT",s_t:"SCROLL_TOP",slotId:"AD_SLOT_ID",stageName:"AD_SLOT_EVENT_NAME",stageIdx:"AD_SLOT_EVENT_ID","met.AD_SLOT_NAMESPACE.AD_SLOT_ID":"AD_SLOT_EVENT_NAME.AD_SLOT_TIME_TO_EVENT","e.AD_SLOT_ID":a.element.getAttribute("data-experiment-id"),"adt.AD_SLOT_ID":a.element.getAttribute("type"),"met.AD_SLOT_NAMESPACE":"firstVisibleTime.AD_PAGE_FIRST_VISIBLE_TIME,lastVisibleTime.AD_PAGE_LAST_VISIBLE_TIME"});
a.lifecycleReporter=b;a.B=void 0;return a}m(ac,AMP.BaseElement);l=ac.prototype;l.getPriority=function(){return 2};l.renderOutsideViewport=function(){if(this.win["3pla"])return!1;var a;var b=this.element.getAttribute("data-loading-strategy");null==b?a=null:"prefer-viewability-over-views"==b||""==b?a=1.25:(a="Value of data-loading-strategy should be a float number in range of [0, 3], but got "+b,b=B().assertNumber(parseFloat(b),a),B().assert(0<=b&&3>=b,a),a=b);return null!==a?a:AMP.BaseElement.prototype.renderOutsideViewport.call(this)};
l.isLayoutSupported=function(a){return gb(a)};l.getResource=function(){return this.element.getResources().getResourceForElement(this.element)};
l.buildCallback=function(){this.B=this.element.getAttribute("type");var a=Math.round(this.getResource().getUpgradeDelayMs());C().info("amp-ad-3p-impl","upgradeDelay "+this.B+": "+a);this.emitLifecycleEvent("upgradeDelay",{forced_delta:a});this.ea=this.getPlaceholder();this.da=this.getFallback();this.config=O[this.B];B().assert(this.config,'Type "'+this.B+'" is not supported in amp-ad');this.uiHandler=new Y(this);a=this.win;a.a2alistener||(a.a2alistener=!0,N(a,"alp")&&a.addEventListener("message",
yb.bind(null,a)))};
l.preconnectCallback=function(a){var b=this;rb(this.win,this.preconnect,this.B,this.config.remoteHTMLDisabled);"string"==typeof this.config.prefetch?this.preconnect.preload(this.config.prefetch,"script"):this.config.prefetch&&this.config.prefetch.forEach(function(a){b.preconnect.preload(a,"script")});"string"==typeof this.config.preconnect?this.preconnect.url(this.config.preconnect,a):this.config.preconnect&&this.config.preconnect.forEach(function(c){b.preconnect.url(c,a)});var c=this.element.getAttribute("src");
c&&this.preconnect.url(c)};l.onLayoutMeasure=function(){var a=this.win,b=!1,c=0,d=this.element;do{if(ib[d.tagName])c++,b=!1;else{var e=(a.getComputedStyle(d)||ea()).position;"fixed"!=e&&"sticky"!=e||(b=!0)}d=d.parentElement}while(d&&"BODY"!=d.tagName);this.T=!(!b&&1>=c);void 0===this.J&&(this.J=jb(this.element));bc(this);if(this.b)this.b.onLayoutMeasure()};function bc(a){if(a.b&&a.b.iframe){var b=a.getViewport().getLayoutRect(a.b.iframe),c=a.getLayoutBox();a.K=mb(b,-c.left,-c.top)}}
l.getIntersectionElementLayoutBox=function(){if(!this.b||!this.b.iframe)return AMP.BaseElement.prototype.getIntersectionElementLayoutBox.call(this);var a=this.getLayoutBox();this.K||bc(this);return mb(this.K,a.left,a.top)};
l.layoutCallback=function(){var a=this;if(this.A)return this.A;this.emitLifecycleEvent("preAdThrottle");B().assert(!this.T,"<amp-ad> is not allowed to be placed in elements with position:fixed: %s",this.element);this.A=Ha(this).then(function(b){b={clientId:b||null,container:a.J};a.emitLifecycleEvent("adRequestStart");b=pb(a.element.ownerDocument.defaultView,a.element,a.B,b,a.config.remoteHTMLDisabled);a.b=new X(a);return a.b.init(b)});lb(this.win,this.A);return this.A};
l.viewportCallback=function(a){this.b&&this.b.viewportCallback(a)};l.unlayoutCallback=function(){this.A=null;this.uiHandler.applyUnlayoutUI();this.b&&(this.b.freeXOriginIframe(),this.b=null);this.emitLifecycleEvent("adSlotCleared");return!0};l.createPlaceholderCallback=function(){return this.uiHandler.createPlaceholder()};l.emitLifecycleEvent=function(a,b){b&&this.lifecycleReporter.setPingParameters(b);this.lifecycleReporter.sendPing(a)};var cc={},dc=null;function ec(a){a=AMP.BaseElement.call(this,a)||this;a.O=null;a.i=null;a.uiHandler=null;return a}m(ec,AMP.BaseElement);l=ec.prototype;l.getPriority=function(){return 2};l.isLayoutSupported=function(a){return gb(a)};
l.buildCallback=function(){this.O=this.element.getAttribute("data-url");this.i=this.element.getAttribute("data-slot");var a=this.element.querySelectorAll("template");B().assert(0<a.length,"Missing template in custom ad");B().assert(null===this.i||this.i.match(/^[0-9a-z]+$/),"custom ad slot should be alphanumeric: "+this.i);this.uiHandler=new Y(this)};
l.layoutCallback=function(){var a=this,b=fc(this);b in cc||(cc[b]=I(this.win,"xhr").fetchJson(b).then(function(a){return a.json()}));return cc[b].then(function(b){var c=a.element,e=b;null!==a.i&&(e=b.hasOwnProperty(a.i)?b[a.i]:null);null!==e&&"object"==typeof e?(a.renderStarted(),I(a.win,"templates").findAndRenderTemplate(c,e).then(function(a){for(;c.firstChild;)c.removeChild(c.firstChild);c.appendChild(a)})):a.uiHandler.applyNoContentUI()})};
l.unlayoutCallback=function(){this.uiHandler.applyUnlayoutUI();return!0};l.createPlaceholderCallback=function(){return this.uiHandler.createPlaceholder()};
function fc(a){if(null===a.i)return a.O;if(null===dc){dc={};for(var b={},c=qa(a.element)[0].querySelectorAll("amp-ad[type=custom]"),d=0;d<c.length;d++){var e=c[d],f=e.getAttribute("data-url"),e=e.getAttribute("data-slot");null!==e&&(f in b||(b[f]=[]),b[f].push(encodeURIComponent(e)))}for(var g in b)c=dc,f=g,d=b[g].join(","),(d=encodeURIComponent("ampslots")+"="+encodeURIComponent(d))?(f=f.split("#",2),e=f[0].split("?",2),d=e[0]+(e[1]?"?"+e[1]+"&"+d:"?"+d),d+=f[1]?"#"+f[1]:""):d=f,c[g]=d}return dc[a.O]}
;function Z(a){return AMP.BaseElement.apply(this,arguments)||this}m(Z,AMP.BaseElement);Z.prototype.isLayoutSupported=function(){return!0};
Z.prototype.upgradeCallback=function(){var a=this;Ya||(Ya=ea({adsense:Ra,doubleclick:Ua,triplelift:Va,cloudflare:Wa,gmossp:Xa}));var b=Ya,c=this.element.getAttribute("data-consent-notification-id");return(c?sa(this.element,"userNotificationManager","amp-user-notification").then(function(a){return a.get(c)}):Promise.resolve()).then(function(){var c=a.element.getAttribute("type"),e="custom"===c&&N(a.win,"ad-type-custom");B().assert(e||da.call(O,c)||da.call(b,c),'Unknown ad type "'+c+'"');if(e)return new ec(a.element);
a.win.ampAdSlotIdCounter=a.win.ampAdSlotIdCounter||0;var f=a.win.ampAdSlotIdCounter++;a.element.setAttribute("data-amp-slot-index",f);if(!b[c]||!(O[c]||{}).remoteHTMLDisabled&&a.win.document.querySelector("meta[name=amp-3p-iframe-src]")&&!a.element.getAttribute("rtc-config")||!b[c](a.win,a.element))return new ac(a.element);var g="amp-ad-network-"+c+"-impl";a.element.setAttribute("data-a4a-upgrade-type",g);return I(a.win,"extensions").loadElementClass(g).then(function(b){return new b(a.element)}).catch(function(b){var d=
a.element.tagName;a.user().error(d,"Unable to load ad implementation for type ",c,", falling back to 3p, error: ",b);return new ac(a.element)})})};
(function(a){a.registerElement("amp-ad",Z,'amp-ad iframe,amp-embed iframe{border:0!important;margin:0!important;padding:0!important}.i-amphtml-ad-default-holder{position:absolute;left:0;right:0;top:0;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:hsla(0,0%,78%,.05)}.i-amphtml-ad-default-holder:after{content:"Ad";content:attr(data-ad-holder-text);background-color:transparent;border-radius:2px;color:#696969;font-size:10px;line-height:1;font-family:Arial,sans-serif;padding:3px 4px 1px;border:1px solid #696969}amp-ad[data-a4a-upgrade-type=amp-ad-network-doubleclick-impl]>iframe,amp-ad[type=adsense]>iframe{top:50%!important;left:50%!important;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}[dir=rtl] amp-ad[data-a4a-upgrade-type=amp-ad-network-doubleclick-impl]>iframe,[dir=rtl] amp-ad[type=adsense]>iframe{left:0!important;right:50%!important;-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}amp-ad[data-a4a-upgrade-type=amp-ad-network-adsense-impl]>iframe,amp-ad[data-a4a-upgrade-type=amp-ad-network-doubleclick-impl]>iframe{min-height:0;min-width:0}amp-ad[data-a4a-upgrade-type=amp-ad-network-doubleclick-impl][height=fluid]>iframe{height:100%!important;width:100%!important;position:relative}amp-ad[data-a4a-upgrade-type=amp-ad-network-doubleclick-impl][height=fluid]{width:100%!important}\n/*# sourceURL=/extensions/amp-ad/0.1/amp-ad.css*/');a.registerElement("amp-embed",
Z)})(self.AMP);
})});
//# sourceMappingURL=amp-ad-0.1.js.map

